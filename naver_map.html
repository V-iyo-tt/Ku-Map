<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="origin">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Naver Map (Standard Mode)</title>
  <style>
    html, body, #map { height: 100%; margin: 0; padding: 0; }
    body { overflow: hidden; } /* 스크롤바 방지 */
    .hud {
      position: fixed; left: 8px; bottom: 8px;
      background: rgba(0, 0, 0, 0.6); color: #fff;
      padding: 6px 10px; border-radius: 8px;
      font: 12px/1.3 system-ui, -apple-system, sans-serif;
      z-index: 1000; pointer-events: none;
    }
  </style>
  <script>
    const DEFAULT_CID = "pu0ce4kfq8"; 
    let map;

    // ===========================================
    // ★★★ [좌표 설정 구역] 여기서 숫자를 바꾸세요 ★★★
    // ===========================================
    const FIXED_LAT = 37.58361;  // 위도 (Latitude)
    const FIXED_LNG = 127.02528; // 경도 (Longitude)
    // ===========================================

    window.initMap = function() {
        function hud(msg){
            let h = document.querySelector('.hud');
            if(!h){ 
                h = document.createElement('div'); 
                h.className = 'hud'; 
                document.body.appendChild(h); 
            }
            h.textContent = msg;
        }

        // 1. 지정된 좌표로 위치 객체 생성
        const targetLocation = new naver.maps.LatLng(FIXED_LAT, FIXED_LNG);

        // 2. 맵 생성
        map = new naver.maps.Map('map', {
            center: targetLocation,
            zoom: 17, // 줌 레벨 (1~21)
            scaleControl: false,
            logoControl: false,
            mapDataControl: false,
            zoomControl: false // 필요시 true
        });

        // 3. 마커 생성
        new naver.maps.Marker({
            position: targetLocation,
            map: map
        });

        hud(`위치 설정: ${FIXED_LAT}, ${FIXED_LNG}`);

        // Unity 통신 (유지)
        window.UnityMap = {
            setCenter: (la, ln) => { map.setCenter(new naver.maps.LatLng(la, ln)); },
            updateMyLocation: (la, ln) => { /* ... */ }
        };
    };

    (function(){
        const qs = new URLSearchParams(location.search);
        const cid = (qs.get('cid') || DEFAULT_CID).trim();
        
        const s = document.createElement('script');
        // 지도 로딩 후 initMap 함수 실행
        s.src = 'https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=' + encodeURIComponent(cid) + '&callback=initMap';
        document.head.appendChild(s);
    })();
  </script>
</head>
<body>
  <div id="map"></div>
</body>
</html>