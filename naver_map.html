<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="origin">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Naver Map (Clean View)</title>
  <style>
    /* 지도 전체 화면 채우기 */
    html, body, #map { height: 100%; margin: 0; padding: 0; }
    body { overflow: hidden; } 
    /* 텍스트(HUD) 관련 스타일 제거됨 */
  </style>
  <script>
    const DEFAULT_CID = "pu0ce4kfq8"; 
    let map;

    // ===========================================
    // ★★★ [좌표 설정 구역] ★★★
    const FIXED_LAT = 37.58361;  
    const FIXED_LNG = 127.02528; 
    // ===========================================

    // HTML 로딩 대기 함수
    function ready(fn) {
      if (document.readyState !== 'loading') {
        fn();
      } else {
        document.addEventListener('DOMContentLoaded', fn);
      }
    }

    window.initMap = function() {
        // 네이버 지도 객체 로딩 안전장치
        if (typeof naver === 'undefined') {
            console.log("naver 객체 대기 중...");
            setTimeout(window.initMap, 100);
            return;
        }

        ready(function() {
            // 1. 위치 객체 생성
            const targetLocation = new naver.maps.LatLng(FIXED_LAT, FIXED_LNG);

            // 2. 맵 생성 (중심점 잡기)
            map = new naver.maps.Map('map', {
                center: targetLocation,
                zoom: 17,
                scaleControl: false,
                logoControl: false,
                mapDataControl: false,
                zoomControl: false
            });

            // 마커 생성 코드 제거됨 (new naver.maps.Marker ...)
            // 텍스트 출력 코드 제거됨 (hud ...)

            // Unity 통신 객체 (필요 시 중심점 이동 기능은 유지)
            window.UnityMap = {
                setCenter: (la, ln) => { 
                    if(map) map.setCenter(new naver.maps.LatLng(la, ln)); 
                }
            };
        });
    };

    (function(){
        const qs = new URLSearchParams(location.search);
        const cid = (qs.get('cid') || DEFAULT_CID).trim();
        
        const s = document.createElement('script');
        s.src = 'https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=' + encodeURIComponent(cid) + '&callback=initMap';
        document.head.appendChild(s);
    })();
  </script>
</head>
<body>
  <div id="map"></div>
</body>
</html>