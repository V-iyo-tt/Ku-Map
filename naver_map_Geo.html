<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="origin">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Naver Map (Fixed Coordinates)</title>
  <style>
    html,body,#map{height:100%;margin:0;padding:0}
    /* 알림창 스타일 */
    .hud{position:fixed;left:8px;bottom:8px;background:#0008;color:#fff;padding:6px 10px;border-radius:8px;font:12px/1.3 system-ui; z-index: 1000;}
  </style>
  <script>
    const DEFAULT_CID = "pu0ce4kfq8"; 
    let map;

    // ★★★ [여기서 좌표를 수정하세요!] ★★★
    // 원하는 장소의 위도(Latitude)와 경도(Longitude)를 직접 입력합니다.
    // 예시: 고려대학교 공학관 부근
    const FIXED_LAT = 37.58361;  
    const FIXED_LNG = 127.02528; 
    // -----------------------------------

    window.initMap = function() {
        function hud(msg){
            let h=document.querySelector('.hud');
            if(!h){ h=document.createElement('div'); h.className='hud'; document.body.appendChild(h); }
            h.textContent=msg;
        }

        // 1. 입력한 좌표로 위치 객체 생성
        const targetLocation = new naver.maps.LatLng(FIXED_LAT, FIXED_LNG);

        // 2. 맵 생성 (중심점을 입력한 좌표로 설정)
        map = new naver.maps.Map('map', {
            center: targetLocation,
            zoom: 17 // 줌 레벨 (클수록 확대)
        });

        // 3. 마커 찍기
        new naver.maps.Marker({
            position: targetLocation,
            map: map,
            title: "지정된 위치"
        });

        // 알림창 표시
        hud(`위치 설정 완료: ${FIXED_LAT}, ${FIXED_LNG}`);

        // Unity 통신 객체 (기존 기능 유지)
        window.UnityMap = {
            setCenter: (la, ln) => { map.setCenter(new naver.maps.LatLng(la, ln)); },
            updateMyLocation: (la, ln) => { /* ... */ }
        };
    };

    (function(){
        const qs = new URLSearchParams(location.search);
        const cid = (qs.get('cid') || DEFAULT_CID).trim();
        
        const s = document.createElement('script');
        // geocoder는 필요 없지만 혹시 몰라 유지, callback 필수
        s.src = 'https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=' + encodeURIComponent(cid) + '&submodules=geocoder&callback=initMap';
        document.head.appendChild(s);
    })();
  </script>
</head>
<body>
  <div id="map"></div>
</body>
</html>